---
import {
  Accordion as AccessibleAccordion,
  AccordionItem,
} from "accessible-astro-components";

interface AccordionItemData {
  title: string;
  content: string;
}

interface AccordionProps {
  items?: AccordionItemData[];
  groupName?: string;
  class?: string;
  openFirst?: boolean;
}

const {
  items = [],
  groupName = "accordion-group",
  class: className = "",
  openFirst = false,
} = Astro.props as AccordionProps;
---

<AccessibleAccordion class={className}>
  {
    items.map((item, index) => (
      <AccordionItem
        title={item.title}
        name={groupName}
        open={openFirst && index === 0}
        variant="chevron"
      >
        <p>{item.content}</p>
      </AccordionItem>
    ))
  }
</AccessibleAccordion>
